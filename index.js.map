{"version":3,"file":"index.js","sources":["node_modules/lodash/_getRawTag.js","node_modules/lodash/_objectToString.js","node_modules/lodash/_baseGetTag.js","node_modules/lodash/isObject.js","node_modules/lodash/isFunction.js","src/geo.js","node_modules/lodash/_freeGlobal.js","node_modules/lodash/_root.js","node_modules/lodash/_Symbol.js"],"sourcesContent":["var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","import _ from 'lodash';\n\nconst GeoLocation = ()=>{\n  return navigator.geolocation;\n};\n\nfunction addTimeout(geo, time){\n  let id;\n  return {\n    create: function(geo_id, error){\n      id = setTimeout(function(){\n        geo.clearWatch(geo_id);\n        if (_.isFunction(error)) error('Timed out');\n      }, time);\n    }\n    , remove: function(){\n      clearTimeout(id);\n    }\n  };\n}\n\nfunction geoSuccess(callback, clearTimeout){\n  return function(pos){\n    let lng, lat;\n    lat = pos.coords.latitude;\n    lng = pos.coords.longitude;\n    if (_.isFunction(callback)) callback(lat, lng, pos);\n    if (_.isFunction(clearTimeout)) clearTimeout();\n  };\n}\n\nfunction geoFail(error, clearTimeout){\n  return function(err){\n    if (_.isFunction(error)) error(err);\n    if (_.isFunction(clearTimeout)) clearTimeout();\n  };\n}\n\nexport default function(wait){\n  let fail\n    , geo_id\n    , geo_loc\n    , remove\n    , success\n    , timeout;\n\n  geo_loc = GeoLocation();\n\n  if (!geo_loc) return;\n\n  if (wait){\n    timeout = addTimeout(geo_loc, wait);\n    remove  = timeout.remove;\n  }\n\n  return function(callback, error){\n    success = geoSuccess(callback, remove);\n    fail    = geoFail(error, remove);\n    geo_id  = geo_loc.watchPosition(success, fail);\n\n    if (timeout) timeout.create(geo_id, error);\n  };\n};\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n"],"names":["getRawTag","value","isOwn","hasOwnProperty","call","symToStringTag","tag","undefined","unmasked","e","result","nativeObjectToString","objectToString","baseGetTag","undefinedTag","nullTag","Object","isObject","type","isFunction","funcTag","genTag","asyncTag","proxyTag","create","c","setTimeout","a","clearWatch","_isFunction","remove","clearTimeout","coords","latitude","d","longitude","b","freeGlobal","global","freeSelf","self","root","Function","Symbol","objectProto","prototype","toString","toStringTag","geolocation","f","g","GeoLocation","addTimeout","geoSuccess","geoFail","watchPosition"],"mappings":"aAyBA,SAASA,UAAUC,GACjB,IAAIC,EAAQC,eAAeC,KAAKH,EAAOI,kBACnCC,EAAML,EAAMI,kBAEhB,IACEJ,EAAMI,uBAAkBE,EACxB,IAAIC,GAAW,EACf,MAAOC,IAET,IAAIC,EAASC,qBAAqBP,KAAKH,GAQvC,OAPIO,IACEN,EACFD,EAAMI,kBAAkBC,SAEjBL,EAAMI,mBAGVK,ECzBT,SAASE,eAAeX,GACtB,OAAOU,uBAAqBP,KAAKH,GCAnC,SAASY,WAAWZ,GAClB,OAAa,MAATA,OACeM,IAAVN,EAAsBa,aAAeC,QAEtCV,gBAAkBA,kBAAkBW,OAAOf,GAC/CD,WAAUC,GACVW,gBAAeX,GCCrB,SAASgB,SAAShB,GAChB,IAAIiB,SAAcjB,EAClB,OAAgB,MAATA,IAA0B,UAARiB,GAA4B,YAARA,GCD/C,SAASC,WAAWlB,GAClB,IAAKgB,WAAShB,GACZ,OAAO,EAIT,IAAIK,EAAMO,YAAWZ,GACrB,OAAOK,GAAOc,SAAWd,GAAOe,QAAUf,GAAOgB,UAAYhB,GAAOiB,SC3BtE,yBACE,MACA,OACEC,OAAQ,cACNC,EAAKC,WAAW,WACdC,EAAIC,cACAC,iBAAqBpB,EAAM,kBAGjCqB,OAAQ,WACRC,kBAKN,yBACE,mBACE,MAAStB,EACTA,EAAMgB,EAAIO,OAAOC,SACjBC,EAAMT,EAAIO,OAAOG,UACbN,iBAAwBF,SACxBE,iBAA4BO,KAIpC,sBACE,mBACMP,iBAAqBF,KACrBE,iBAA4BO,6HCjChCC,WAA8B,iBAAVC,gBAAsBA,gBAAUA,eAAOtB,SAAWA,QAAUsB,2BAEnED,WCAbE,SAA0B,iBAARC,MAAoBA,MAAQA,KAAKxB,SAAWA,QAAUwB,KAGxEC,KAAOJ,aAAcE,UAAYG,SAAS,uBAE7BD,KCLbE,OAASF,MAAKE,eAEDA,ORFbC,YAAc5B,OAAO6B,UAGrB1C,eAAiByC,YAAYzC,eAO7BQ,qBAAuBiC,YAAYE,SAGnCzC,iBAAiBsC,QAASA,QAAOI,iBAAcxC,aA6BlCP,UC5Cb4C,cAAc5B,OAAO6B,UAOrBlC,uBAAuBiC,cAAYE,yBAatBlC,eChBbG,QAAU,gBACVD,aAAe,qBAGfT,eAAiBsC,QAASA,QAAOI,iBAAcxC,cAkBlCM,sBCGAI,SC1BbK,SAAW,yBACXF,QAAU,oBACVC,OAAS,6BACTE,SAAW,8BA6BEJ,uBClCG,WAClB,iBAAiB6B,6BAoCjB,MACIvB,EACAS,EACAzB,EACAwC,EACAC,EAIJ,GAFAhB,EAAUiB,cASV,WAJED,EAAUE,gBACV3C,EAAUyC,EAAQpB,QAGb,cACLmB,EAAUI,gBACVjB,EAAUkB,aACV7B,EAAUS,EAAQqB,sBAELL,EAAQ1B"}